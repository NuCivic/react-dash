!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("lodash"),require("d3"),require("react-nvd3"),require("react-router"),require("classnames"),require("csv-es6-data-backend"),require("dkan-es6-data-backend"),require("fixed-data-table"),require("flux"),require("react-dom"),require("react-select"),require("topojson"));else if("function"==typeof define&&define.amd)define(["react","lodash","d3","react-nvd3","react-router","classnames","csv-es6-data-backend","dkan-es6-data-backend","fixed-data-table","flux","react-dom","react-select","topojson"],t);else{var r="object"==typeof exports?t(require("react"),require("lodash"),require("d3"),require("react-nvd3"),require("react-router"),require("classnames"),require("csv-es6-data-backend"),require("dkan-es6-data-backend"),require("fixed-data-table"),require("flux"),require("react-dom"),require("react-select"),require("topojson")):t(e.react,e.lodash,e.d3,e["react-nvd3"],e["react-router"],e.classnames,e["csv-es6-data-backend"],e["dkan-es6-data-backend"],e["fixed-data-table"],e.flux,e["react-dom"],e["react-select"],e.topojson);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e,t,r,n,a,o,i,u,s,l,c,f,p){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="/static/",t(0)}([function(e,t,r){e.exports=r(20)},function(e,t){e.exports=require("react")},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(4),i="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" "),u=function(){function e(){n(this,e)}return a(e,null,[{key:"set",value:function(t,r){e.root=e.root||Object.create(null),e.root=(0,o.set)(e.root,t,r)}},{key:"get",value:function(t){return i.indexOf(t.toLowerCase())>=0?t:(0,o.get)(e.root,t)}}]),e}();t["default"]=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(19),f=r(47),p=r(15),d=n(p),h=r(16),y=n(h),b=r(4),m=r(8),v=n(m),g=r(2),O=n(g),j=r(5),P=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={data:[],dataset:null,queryObj:Object.assign({from:0},r.props.queryObj),isFeching:!1},r}return i(t,e),u(t,[{key:"componentWillMount",value:function(){d["default"].register(this.onAction.bind(this));var e="";this.props.location&&(e=this.props.location.query);var t=(0,j.getOwnQueryParams)(e,this.props.cid)||{};this.setState({ownParams:t})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeHandler)}},{key:"componentWillReceiveProps",value:function(){this.applyOwnFilters()}},{key:"getFetchType",value:function(){var e="global";return this.props.fetchData&&this.props.fetchData.type?e="backend":this.props.data&&(e="data"),e}},{key:"addResizeListener",value:function(){var e=this;this._resizeHandler=function(t){var r=(0,f.findDOMNode)(e).getBoundingClientRect().width;e.setState({componentWidth:r}),e.onResize(t)},window.addEventListener("resize",this._resizeHandler)}},{key:"componentDidMount",value:function(){var e=(0,f.findDOMNode)(this).getBoundingClientRect().width;this.setState({componentWidth:e}),this.addResizeListener(),this.fetchData(),this.onResize()}},{key:"componentDidUpdate",value:function(e,t){var r=_.isEqual(e.globalData,this.props.globalData);r||this.fetchData()}},{key:"fetchData",value:function(){var e=this.getFetchType();switch(e){case"backend":this.fetchBackend();case"global":this.applyDataHandlers();case"data":this.applyDataHandlers(this.props.data)}}},{key:"fetchBackend",value:function(){var e=this,t=new y["default"]((0,b.omit)(this.props.fetchData,"type")),r=this.state.queryObj;this.setState({isFeching:!0,dataset:t}),t.fetch().then(function(){e.state.dataset.query(r).then(function(t){e.applyDataHandlers(t)})["catch"](function(e){})})}},{key:"getFilters",value:function(){var e=this,t=void 0;return Array.isArray(this.props.filters)&&(t=this.props.filters.map(function(t){return t.onChange=e.onFilter.bind(e,t),l["default"].createElement(O["default"].get("Filter"),t)})),t}},{key:"onFilter",value:function(e,t){var r="fid"+e.cid,n=this.state.ownParams||{},a={};a[this.props.cid]="fid"+e.cid+"__"+t.value;var o=Object.assign(this.props.location.query,a),i=decodeURIComponent((0,j.objToQueryString)(o)).replace(/\[\]/g,"");c.browserHistory.push("/?"+i);var u={};u[r]=t.value;var s=Object.assign(n,u);this.setState({ownParams:s})}},{key:"handleFilter",value:function(e,t){var r=this,n=Object.assign([],e.dataHandlers);this.setState({filterHandlers:n,filterEvent:t}),setTimeout(function(){r.fetchData()},10)}},{key:"applyOwnFilters",value:function(){var e=this.state.ownParams;if(e)for(var t in e){var r=(0,j.getFID)(t);if(r){var n=this.props.filters[r],a={};a.value=e[t],this.handleFilter(n,a)}}}},{key:"applyDataHandlers",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1],r=t||this.state.filterHandlers||this.props.dataHandlers,n=e.hits||e,a=e.total||e.length;n=v["default"].handle.call(this,r,n,this.getGlobalData(),this.state.filterEvent),this.setState({data:n,total:a,isFeching:!1})}},{key:"emit",value:function(e){d["default"].dispatch(e)}},{key:"getGlobalData",value:function(){return this.props.globalData||[]}},{key:"onResize",value:function(){}},{key:"onAction",value:function(){}}]),t}(s.Component);t["default"]=P},function(e,t){e.exports=require("lodash")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){return Object.assign({},(0,m.property)(e)(t))}function o(){for(var e=arguments.length<=0||void 0===arguments[0]?5:arguments[0],t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=0;e>n;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function i(e){return function(t){return u(t,e)}}function u(e,t){var r=e instanceof Date?e:new Date(e),n=g["default"].time.format(t);return n(r)}function s(e,t){var r=g["default"].format(t);return r(e)}function l(e){var t=[];for(var r in e)t.push(r+"="+e[r]);return"?"+t.join("&")}function c(e){return JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}function f(e,t){var r={};return Object.keys(e).forEach(function(n){if(n===t)if("object"===b(e[n]))e[n].forEach(function(e){var t=e.split("__");if(r[t[0]]&&"object"===b(r[t[0]]))r[t[0]].push(t[1]);else if(r[t[0]]&&"string"==typeof r[t[0]]){var n={},a=[];a.push(r[t[0]]),a.push(t[1]),n[t[0]]=a,r=Object.assign(r,n)}else r[t[0]]=t[1]});else{var a=e[n].split("__");r[a[0]]=a[1]}}),(0,m.isEmpty)(r)?void 0:r}function p(e){return e.indexOf&&e.indexOf("fid")>=0?e.replace("fid",""):!1}function d(e){var t,r,n,a,o,i;if(r=[],o=/%20/g,n=function(e,t){t="function"==typeof t?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},e instanceof Array)for(a in e)n(a,e[a]);else for(t in e)h(t,e[t],n);return i=r.join("&").replace(o,"+")}function h(e,t,r){var n,a,o,i;if(i=/\[\]$/,t instanceof Array)for(a=0,o=t.length;o>a;a++)i.test(e)?r(e,t[a]):h(e+"["+("object"===b(t[a])?a:"")+"]",t[a],r);else if("object"==("undefined"==typeof t?"undefined":b(t)))for(n in t)h(e+"["+n+"]",t[n],r);else r(e,t)}function y(e,t,r){}Object.defineProperty(t,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.getProp=a,t.makeKey=o,t.dateFormatter=i,t.formatDate=u,t.formatNumber=s,t.qFromParams=l,t.paramsFromQ=c,t.getOwnQueryParams=f,t.getFID=p,t.objToQueryString=d,t.updadateComponentsQParams=y;var m=r(4),v=r(9),g=n(v)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=(n(f),r(3)),d=(n(p),r(4)),h=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=(0,d.pick)(this.props,"card").card,t=(0,d.omit)(this.props,"card"),r=void 0,n=void 0,a=this.props.style||{},o=this.props.className||"";return this.props.header&&(r=c["default"].createElement("div",{className:"card-header"},c["default"].createElement("span",{className:this.props.iconClass,"aria-hidden":"true"}),c["default"].createElement("span",{className:"card-header-content"},t.header))),this.props.footer&&(n=c["default"].createElement("div",{className:"card-footer"},t.footer)),c["default"].createElement("div",u({className:"card-"+t.cardStyle+" "+o,style:a},e),r,c["default"].createElement("div",{className:"card-content"},t.children),n)}}]),t}(l.Component);t["default"]=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(2),f=(n(c),r(3)),p=(n(f),function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=void 0;return e=this.props.isFeching?l["default"].createElement("div",{className:"loader"},l["default"].createElement("div",{className:"sp sp-slices"})):l["default"].createElement("span",null,this.props.children)}}]),t}(s.Component));t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(2),u=n(i),s=r(4),l=function(){function e(){a(this,e)}return o(e,null,[{key:"set",value:function(e,t){u["default"].set("dataHandlers."+e,t)}},{key:"get",value:function(e){return u["default"].get("dataHandlers."+e)}},{key:"handle",value:function t(r,n,a,o){var i=this;try{var u=(r||[]).map(function(t){var r=(0,s.isString)(t)?{name:t}:t,u=e.get(r.name),l=(0,s.omit)(r,"name");return u.bind(i,n,a,l,o)}),t=(0,s.flow)(u);return(0,s.isFunction)(t)?t(n,a):n}catch(o){console.error("Error in data handler. This could mean that one of your data handlers is missing from the registry. Here are the handlers we're trying to process:",o,arguments)}}}]),e}();t["default"]=l},function(e,t){e.exports=require("d3")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(18),h=n(d),y=r(3),b=n(y),m=r(7),v=n(m),g=r(24),O=(n(g),r(5)),j=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=(0,O.makeKey)(),t=Object.assign({datum:this.state.data,key:e},this.props.settings);return c["default"].createElement(v["default"],{isFeching:this.state.isFeching,key:e},this.getFilters(),c["default"].createElement(h["default"],u({},t,{key:e})))}}]),t}(b["default"]);t["default"]=j,p["default"].set("Chart",j)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(3),h=n(d),y=r(6),b=n(y),m=r(4),v=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this;console.log("DASH RENDER",this);var t=(0,m.pick)(this.props,["history","location","params","route","routeParams","routes"]);return c["default"].createElement("div",{className:"container"},c["default"].createElement("h1",{className:"dashboard-title"},this.props.title),this.props.components.map(function(r,n){var a=Object.assign(e.props.components[n],{globalData:e.state.data},t),o=void 0;return o="undefined"!==a.cardType?c["default"].createElement(b["default"],u({key:n},r),c["default"].createElement(p["default"].get(r.type),Object.assign(e.props.components[n],a))):c["default"].createElement(p["default"].get(r.type),Object.assign(e.props.components[n],a))}))}}]),t}(h["default"]);t["default"]=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(10),p=(n(f),r(6)),d=n(p),h=r(2),y=n(h),b=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"renderRegion",value:function(e){var t=this;if(e)return e.map(function(e,r){var n=Object.assign({globalData:t.props.globalData},e);return c["default"].createElement(d["default"],u({key:r},e),c["default"].createElement(y["default"].get(e.type),n))})}}]),t}(l.Component);t["default"]=b,y["default"].set("Layout",b)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),o=n(a),i=r(48),u=n(i),s=u["default"];t["default"]=s,o["default"].set("ReactSelect",u["default"])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={STORE_CHANGE:"STORE_CHANGE",AUTOCOMPLETE_CHANGE:"AUTOCOMPLETE_CHANGE",EXECUTE:"EXECUTE"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(46),a=new n.Dispatcher;t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(17),u=n(i),s=r(43),l=n(s),c=r(44),f=n(c),p=r(4),d=function(){function e(t){a(this,e),this.settings=t,this.backend=e.getBackendFromName(t.backend),this._store=this.backend,this.queryState=Object.assign({},t.queryObj)}return o(e,null,[{key:"registerBackend",value:function(t,r){e.backends=e.backends||Object.create(null),e.backends[t]=r}},{key:"getBackendFromName",value:function(t){return e.backends[t]}}]),o(e,[{key:"fetch",value:function(){return this.backend.fetch((0,p.omit)(this.settings,"backend")).then(this.onFetch.bind(this))}},{key:"onFetch",value:function(e){this.fields=this._normalizeFields(e.fields),e.useMemoryStore&&(this._store=new u["default"](e.records,this.fields)),this._store.query(this.queryState,(0,p.omit)(this.settings,"backend")).then(this.onResults.bind(this))}},{key:"query",value:function(e){var t=this;return new Promise(function(r,n){t._store.query(e,t.settings).then(function(e){t.onResults(e),r(e)})})}},{key:"onResults",value:function(e){this.recordCount=e.total,this.records=e.hits}},{key:"_normalizeFields",value:function(e){return(0,p.uniq)(e||[]).map(function(e){return{id:e}})}}]),e}();t["default"]=d,d.registerBackend("csv",l["default"]),d.registerBackend("dkan",f["default"])},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(4),i=function(){function e(t,r){n(this,e),this.records=t||[],r?this.fields=r:this.fields=(t[0]||[]).map(function(e,t){return{id:t,type:"string"}})}return a(e,[{key:"query",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return new Promise(function(r,n){var a=t.size||e.records.length,o=t.from||0,i=e.records;i=e._applyFilters(i,t),i=e._applyFreeTextQuery(i,t);var u={total:i.length,hits:i.slice(o,o+a)};r(u)})}},{key:"_applyFreeTextQuery",value:function(e,t){var r=this;if(t.q){var n=t.q.split(" "),a=n.map(function(e){return new RegExp(e.toLowerCase())});e=e.filter(function(e){var t=!0;return a.forEach(function(n){var a=!1;r.fields.forEach(function(t){var r=e[t.id];r=null!==r&&void 0!==r?r.toString():"",a=a||n.test(r.toLowerCase())}),t=t&&a}),t})}return e}},{key:"_applyFilters",value:function(e,t){function r(e){var t=c[e.field].type||"string";return l[t]}function n(e,t){var n=r(t),a=n(e[t.field]),o=n(t.term);return a===o}function a(e,t){var n=r(t),a=n(e[t.field]),o=n(t.terms).split(",");return o.indexOf(a)>=0}function i(e,t){var n=(0,o.isUndefined)(t.from)||null===t.from||""===t.from,a=(0,o.isUndefined)(t.to)||null===t.to||""===t.to,i=r(t),u=i(e[t.field]),s=i(n?"":t.from),l=i(a?"":t.to);return n&&a||""!==u?(n||u>=s)&&(a||l>=u):!1}var u=t.filters||[],s={term:n,terms:a,range:i},l={integer:function(e){return parseFloat(e,10)},"float":function(e){return parseFloat(e,10)},number:function(e){return parseFloat(e,10)},string:function(e){return e.toString()},date:function(e){return Date.parse(e)},datetime:function(e){return new Date(e).valueOf()}},c=this.fields.reduce(function(e,t){return e[t.id]=t,e},{});return e.filter(function(e){var t=u.map(function(t){return s[t.type](e,t)});return(0,o.every)(t,o.identity)})}}]),e}();t["default"]=i},function(e,t){e.exports=require("react-nvd3")},function(e,t){e.exports=require("react-router")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DataHandlerList=t.DashboardConstants=t.EventDispatcher=t.MemoryStore=t.Dataset=t.Geary=t.DataHandler=t.Registry=t.App=t.ReactSelect=t.Text=t.DataTable=t.Multi=t.Metric=t.Layout=t.Goal=t.Region=t.Dashboard=t.Choropleth=t.Chart=t.Card=t.BaseComponent=t.Autocomplete=void 0;var a=r(22);Object.defineProperty(t,"Autocomplete",{enumerable:!0,get:function(){return n(a)["default"]}});var o=r(3);Object.defineProperty(t,"BaseComponent",{enumerable:!0,get:function(){return n(o)["default"]}});var i=r(6);Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return n(i)["default"]}});var u=r(10);Object.defineProperty(t,"Chart",{enumerable:!0,get:function(){return n(u)["default"]}});var s=r(30);Object.defineProperty(t,"Choropleth",{enumerable:!0,get:function(){return n(s)["default"]}});var l=r(11);Object.defineProperty(t,"Dashboard",{enumerable:!0,get:function(){return n(l)["default"]}});var c=r(28);Object.defineProperty(t,"Region",{enumerable:!0,get:function(){return n(c)["default"]}});var f=r(25);Object.defineProperty(t,"Goal",{enumerable:!0,get:function(){return n(f)["default"]}});var p=r(12);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return n(p)["default"]}});var d=r(26);Object.defineProperty(t,"Metric",{enumerable:!0,get:function(){return n(d)["default"]}});var h=r(27);Object.defineProperty(t,"Multi",{enumerable:!0,get:function(){return n(h)["default"]}});var y=r(23);Object.defineProperty(t,"DataTable",{enumerable:!0,get:function(){return n(y)["default"]}});var b=r(29);Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return n(b)["default"]}});var m=r(13);Object.defineProperty(t,"ReactSelect",{enumerable:!0,get:function(){return n(m)["default"]}});var v=r(21);Object.defineProperty(t,"App",{enumerable:!0,get:function(){return n(v)["default"]}});var g=r(2);Object.defineProperty(t,"Registry",{enumerable:!0,get:function(){return n(g)["default"]}});var O=r(8);Object.defineProperty(t,"DataHandler",{enumerable:!0,get:function(){return n(O)["default"]}});var j=r(5);Object.keys(j).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}})});var P=r(40);Object.defineProperty(t,"Geary",{enumerable:!0,get:function(){return n(P)["default"]}});var w=r(16);Object.defineProperty(t,"Dataset",{enumerable:!0,get:function(){return n(w)["default"]}});var E=r(17);Object.defineProperty(t,"MemoryStore",{enumerable:!0,get:function(){return n(E)["default"]}});var _=r(15);Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return n(_)["default"]}});var k=r(14);Object.defineProperty(t,"DashboardConstants",{enumerable:!0,get:function(){return n(k)["default"]}});var C=r(39);Object.defineProperty(t,"DataHandlerList",{enumerable:!0,get:function(){return n(C)["default"]}}),r(41),console.log("React Dashboard -- 0.4.0 candidate- 08 31 2016")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(11),h=n(d),y=r(19),b=function(e){function t(e){return a(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props;return c["default"].createElement(y.Router,{history:y.browserHistory},c["default"].createElement(y.Route,u({path:"/",component:h["default"]},e)))}}]),t}(l.Component);t["default"]=b,p["default"].set("App",b)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(5),h=r(3),y=n(h),b=r(14),m=n(b),v=r(13),g=n(v),O=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={},r}return i(t,e),s(t,[{key:"onChange",value:function(e){this.setState({value:e}),this.emit({actionType:m["default"].AUTOCOMPLETE_CHANGE,value:e,id:this.props.id||(0,d.makeKey)(5)})}},{key:"loadOptions",value:function(e,t){var r=/\{\{(.+)\}\}/;return this.props.url?fetch(this.props.url.replace(r,e)).then(function(e){return e.json()}).then(function(e){return{options:e}}):this.props.options?Promise.resolve({options:this.props.options,isLoading:!1}):Promise.resolve({options:[],isLoading:!1})}},{key:"render",value:function(){return c["default"].createElement(g["default"].Async,u({value:this.state.value,loadOptions:this.loadOptions.bind(this)},this.props,{onChange:this.onChange.bind(this)}))}}]),t}(y["default"]);t["default"]=O,p["default"].set("Autocomplete",O)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(45),c=r(2),f=n(c),p=r(5),d=r(1),h=n(d),y=r(3),b=n(y),m=r(7),v=n(m),g=r(4),O=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={gridWidth:1,gridHeight:1,rowsPerPage:r.props.rowsPerPage,currentPage:1,queryObj:{size:r.props.queryObj.size,from:r.props.queryObj.from}},r}return i(t,e),s(t,[{key:"getPages",value:function(e,t,r){
var n=this.getTotalPages(e,t),a=10,o=a/2,i=void 0,u=void 0;return 0>=r-o?(i=0>=r-o?1:r-o,u=Math.min(a,n)):r+o>n?(i=Math.max(n-a,1),u=r+o>n?n:r+o):(i=r-o,u=r+o),(0,g.range)(i,u+1)}},{key:"getPageNumbers",value:function(e,t,r){var n=this;return this.getPages(e,t,r).map(function(e){return h["default"].createElement("li",{className:e==n.state.currentPage?"active":"",key:"page-"+e},h["default"].createElement("a",{onClick:(0,g.partialRight)(n._onPageChange,e).bind(n),href:"#"},e))})}},{key:"getLastPage",value:function(e,t){var r=getTotalPages(e,t);return r[r.length-1]}},{key:"getTotalPages",value:function(e,t){return Math.ceil(t/e)}},{key:"onResize",value:function(){var e=this.refs.table,t=e.offsetWidth,r=e.offsetHeight;this.setState({gridWidth:t,gridHeight:r})}},{key:"_onPageChange",value:function(e,t,r,n){e.preventDefault();var a=this.state.rowsPerPage,o=Object.assign({},this.state.queryObj,{size:a,from:n*a-a});this.query(o),this.setState({currentPage:n,queryObj:o})}},{key:"_onFilterChange",value:function(e){var t=this.state.rowsPerPage,r=Object.assign({},this.state.queryObj,{size:t,from:this.state.currentPage*t-t,q:e.target.value});this.query(r),this.setState({currentPage:1})}},{key:"_onRowsPerPageChange",value:function(e){var t=Object.assign({},this.state.queryObj);t.size=Number(e.target.value),t.from=0,this.query(t),this.setState({rowsPerPage:Number(e.target.value),currentPage:1})}},{key:"render",value:function(){var e=this.state,t=e.gridWidth,r=(e.gridHeight,this.state.data||[]),n=(0,p.getProp)("settings.table",this.props),a=(0,p.getProp)("settings.columns",this.props),o=(0,p.getProp)("settings.cells",this.props),i=Object.keys(r[0]||{}),s=this.getTotalPages(this.state.rowsPerPage,this.state.total),c=i.map(function(e){var t=(0,p.getProp)("overrides."+e,a);return h["default"].createElement(l.Column,u({header:h["default"].createElement(l.Cell,null,e),key:e,columnKey:e,cell:function(e){var t=(0,p.getProp)("overrides."+e.rowIndex,o);return h["default"].createElement(l.Cell,u({},e,o,t),r[e.rowIndex][e.columnKey])}},a,t))}),f="",d="";return this.props.hideFilterHeader||(f=h["default"].createElement("div",{className:"col-md-10"},h["default"].createElement("div",{className:"form-group"},h["default"].createElement("input",{onChange:this._onFilterChange.bind(this),placeholder:"Filter",className:"form-control"})))),this.props.hideControls||(d=h["default"].createElement("div",{className:"col-md-2"},h["default"].createElement("div",{onChange:this._onRowsPerPageChange.bind(this),className:"form-group"},h["default"].createElement("select",{className:"form-control"},h["default"].createElement("option",{value:"10"},"10"),h["default"].createElement("option",{value:"25"},"25"),h["default"].createElement("option",{value:"50"},"50"),h["default"].createElement("option",{value:"100"},"100"),h["default"].createElement("option",{value:"500"},"500"))))),h["default"].createElement("div",{ref:"table"},h["default"].createElement("div",{className:"row"},f,d),h["default"].createElement(v["default"],{isFeching:this.state.isFeching},h["default"].createElement("div",{className:"table-container"},h["default"].createElement(l.Table,u({rowsCount:r.length},n,{width:t}),c)),h["default"].createElement("nav",null,h["default"].createElement("ul",{className:"pagination"},h["default"].createElement("li",{className:1===this.state.currentPage?"hide":""},h["default"].createElement("a",{onClick:(0,g.partialRight)(this._onPageChange,1).bind(this),href:"#","aria-label":"Previous"},h["default"].createElement("span",{"aria-hidden":"true"},"«"))),h["default"].createElement("li",{className:1===this.state.currentPage?"hide":""},h["default"].createElement("a",{onClick:(0,g.partialRight)(this._onPageChange,this.state.currentPage-1).bind(this),href:"#","aria-label":"Previous"},h["default"].createElement("span",{"aria-hidden":"true"},"«"))),this.getPageNumbers(this.state.rowsPerPage,this.state.total,this.state.currentPage),h["default"].createElement("li",{className:s&&this.state.currentPage!==s?"":"hide"},h["default"].createElement("a",{onClick:(0,g.partialRight)(this._onPageChange,this.state.currentPage+1).bind(this),href:"#","aria-label":"Next"},h["default"].createElement("span",{"aria-hidden":"true"},"»"))),h["default"].createElement("li",{className:s&&this.state.currentPage!==s?"":"hide"},h["default"].createElement("a",{onClick:(0,g.partialRight)(this._onPageChange,s).bind(this),href:"#","aria-label":"Next"},h["default"].createElement("span",{"aria-hidden":"true"},"»")))))))}}]),t}(b["default"]);O.defaultProps={rowsPerPage:10,queryObj:{size:10,from:0}},f["default"].set("DataTable",O)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(3),h=n(d),y=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"getOptions",value:function(){return"object"===u(this.props.options)?this.props.options:void("string"==typeof this.props.options)}},{key:"render",value:function(){var e={};return e.options=this.getOptions(),e.onChange=this.props.onChange,c["default"].createElement(p["default"].get(this.props.type),e)}}]),t}(h["default"]);t["default"]=y,p["default"].set("Filter",y)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(3),h=n(d),y=r(7),b=n(y),m=r(4),v=r(18),g=n(v),O=r(42),j=n(O),P=r(5),w=r(8),E=n(w),_=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={metric:0,showEndNumber:r.props.showEndNumber!==!1,dateFormat:r.props.dateFormat||"%b %m %Y",numberFormat:r.props.numberFormat||".0f"},r}return i(t,e),s(t,[{key:"getMetric",value:function(e){var t=E["default"].get(this.props.metric);return t(e)}},{key:"getTolerance",value:function(e,t){var r=this.props.tolerance,n=Math.abs(e);return r.filter(function(e){return t||n>e.from&&n<=e.to})}},{key:"trackStatus",value:function(){var e=Date.parse(this.props.startDate),t=Date.parse(this.props.endDate),r=Number(this.props.startNumber),n=Number(this.props.endNumber),a=this.getTracker(e,t,r,n),o=a(Date.now()),i=o-this.getMetric(this.state.data),u={increase:0>=i,decrease:i>=0,maintain_above:0>=i,maintain_below:i>=0,maintain:!0,mesure:!0};return this.getTolerance(i,u[this.props.action])}},{key:"getTracker",value:function(e,t,r,n){return function(a){var o=(n-r)/(t-e),i=o*(a-e);return i}}},{key:"formatActionName",value:function(e){return(0,m.capitalize)(this.props.action.replace("_"," "))}},{key:"getCaption",value:function(){var e={action:this.formatActionName(this.props.action),caption:this.props.caption,startNumber:(0,P.formatNumber)(this.props.startNumber,this.state.numberFormat),endNumber:(0,P.formatNumber)(this.props.endNumber,this.state.numberFormat),startDate:(0,P.formatDate)(new Date(this.props.startDate),this.state.dateFormat),endDate:(0,P.formatDate)(new Date(this.props.endDate),this.state.dateFormat)},t=(0,m.template)(this.props.captionTemplates[this.props.action]);return t(e)}},{key:"render",value:function(){var e=Object.assign({},(0,m.head)(this.trackStatus())),t={background:this.props.background},r=void 0,n=void 0;if(t=Object.assign({},t,this.props.style),this.props.spline){var a=Object.assign({},this.props.spline);r=c["default"].createElement(g["default"],u({type:"sparklinePlus",datum:this.state.data,showLastValue:!1,color:["#333333"]},a))}return this.state.showEndNumber&&(n=c["default"].createElement("span",{className:"card-goal-end-number"}," ",this.props.divider," ",(0,P.formatNumber)(this.props.endNumber,this.state.numberFormat))),c["default"].createElement(b["default"],{isFeching:this.props.isFeching},c["default"].createElement("div",{className:"goal",style:t},c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-4"},c["default"].createElement("div",{className:"card-goal-icon"},c["default"].createElement("span",{className:(0,j["default"])("glyphicon",this.props.icon)}))),c["default"].createElement("div",{className:"col-md-8"},c["default"].createElement("div",{className:"card-goal-caption"},this.getCaption()))),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-4"},c["default"].createElement("div",{className:"card-goal-progress"},c["default"].createElement("span",{className:"card-goal-metric"},(0,P.formatNumber)(this.getMetric(this.state.data),this.state.numberFormat)),n)),c["default"].createElement("div",{className:"col-md-8"},c["default"].createElement("div",{className:"card-goal-status"},c["default"].createElement("a",{style:{color:e.color},href:this.props.link},e.label)),c["default"].createElement("div",{className:"card-goal-end-date"},(0,P.formatDate)(new Date(this.props.endDate),this.state.dateFormat)))),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-md-12"},c["default"].createElement("div",{className:"spline"},r)))))}}]),t}(h["default"]);_.defaultProps={captionTemplates:{increase:"${action} ${caption} ${endNumber} by ${endDate}",decrease:"${action} ${caption} ${endNumber} by ${endDate}",maintain:"${action} at ${endNumber} ${caption} by ${endDate}",maintain_above:"${action} ${endNumber} ${caption} by ${endDate}",maintain_below:"${action} ${endNumber} ${caption} by ${endDate}",mesure:"${caption}"},divider:" / ",style:{color:"black",background:"white"}},t["default"]=_,p["default"].set("Goal",_)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(2),f=n(c),p=r(3),d=n(p),h=r(7),y=n(h),b=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e={background:this.props.background};return e=Object.assign({},e,this.props.style),l["default"].createElement(y["default"],{isFeching:this.state.isFeching},l["default"].createElement("div",{className:"metric",style:e},l["default"].createElement("div",{className:"col-sm-3 col-lg-4"},l["default"].createElement("div",{className:"card-metric-icon"},l["default"].createElement("span",{className:this.props.iconClass}))),l["default"].createElement("div",{className:"col-sm-9 col-lg-8"},l["default"].createElement("div",{className:"card-metric-number"},this.props.value||this.state.data[0]),l["default"].createElement("div",{className:"card-metric-caption"},this.props.caption))))}}]),t}(d["default"]);t["default"]=b,f["default"].set("Metric",b)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(3),h=n(d),y=r(6),b=n(y),m=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"renderChildren",value:function(){var e=this,t=void 0,r=void 0;if("string"==typeof this.state.data)t=this.props.elements[this.state.data];else{if(!this.props.initVal)return console.error("No valid key is defined in initVal or in data for elements object");t=this.props.elements[this.props.initVal]}return t.map(function(t,n){var a=Object.assign(t,{globalData:e.props.globalData});return r=t.cardStyle?c["default"].createElement(b["default"],u({key:n},t),c["default"].createElement(p["default"].get(t.type),a)):c["default"].createElement(p["default"].get(t.type),a)})}},{key:"render",value:function(){var e=this.getFilters(),t=c["default"].createElement("div",{"class":"multi-container"},e,c["default"].createElement("div",{"class":"multi-elements-container"},this.renderChildren()));return t}}]),t}(h["default"]);t["default"]=m,p["default"].set("Multi",m)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(2),p=n(f),d=r(6),h=n(d),y=r(4),b=function(e){function t(e){return a(this,t),o(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=(0,y.pick)(this.props,["history","location","params","route","routeParams","routes"]);return c["default"].createElement("div",{className:this.props.className},this.props.children.map(function(r,n){var a=void 0,o=Object.assign(r,{globalData:e.props.globalData},t);return a=r.cardStyle?c["default"].createElement(h["default"],u({key:n},r),c["default"].createElement(p["default"].get(r.type),o)):c["default"].createElement(p["default"].get(r.type),o)}))}}]),t}(l.Component);t["default"]=b,p["default"].set("Region",b)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(2),f=n(c),p=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return l["default"].createElement("div",{dangerouslySetInnerHTML:{__html:this.props.content}})}}]),t}(s.Component);t["default"]=p,f["default"].set("Text",p)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function M(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:M(a,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},c=r(1),f=n(c),p=r(2),d=n(p),h=r(3),y=n(h),b=r(7),m=n(b),v=r(31),g=n(v),O=r(34),j=n(O),P=r(49),w=n(P),E=r(9),_=n(E),k=r(36),C=n(k),T=function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.state={infoWindowPos:new Map([["x",0],["y",0]]),infoWindowActive:!0,activeSubunitName:"default",data:[]},r}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;l(Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),fetch(this.props.geometry).then(function(e){var t=e.json();return t}).then(function(t){var r;r="geojson"===e.props.format?t.features:w["default"].feature(t,t.objects[e.props.topologyObject]).features,e.setState({geometryFeatures:r})})}},{key:"linearScale",value:function(e,t){var r=this;return function(){var n=r.legend.startColor,a=r.legend.endColor;return _["default"].scale.linear().domain([e,t]).range([n,a]).interpolate(_["default"].interpolateLab)}}},{key:"equidistantScale",value:function(e,t){var r=this;return function(){var n=r.props.legend.pallete;return e===t?function(){return n[n.length-1]}:_["default"].scale.quantize().domain([e,t]).range(n)}}},{key:"extremeValues",value:function(){var e=this.props.dataValueField,t=this.state.data,r=_["default"].max(t.map(function(t){return t[e]})),n=_["default"].min(t.map(function(t){return t[e]}));return new Map([["min",n],["max",r]])}},{key:"colorScale",value:function(){var e=this.extremeValues(),t=e.get("min"),r=e.get("max"),n={linear:this.linearScale(t,r),equidistant:this.equidistantScale(t,r)};return n[this.props.dataClassification]()}},{key:"mouseMoveOnDatamap",value:function(e){var t=new Map([["x",e.clientX],["y",e.clientY]]);this.setState({infoWindowPos:t})}},{key:"mouseEnterOnDatamap",value:function(){this.setState({infoWindowActive:!0})}},{key:"mouseLeaveDatamap",value:function(){this.setState({infoWindowActive:!1})}},{key:"mouseEnterOnSubunit",value:function(e,t){this.setState({activeSubunitName:e,activeSubunitValue:t})}},{key:"onResize",value:function(){this.setState({svgResized:!0})}},{key:"render",value:function(){var e=.8*this.state.componentWidth,t=.8*e,r=this.extremeValues(),n=this.state,a=n.infoWindowPos,o=n.infoWindowActive,i=n.activeSubunitName,s=n.activeSubunitValue,l=f["default"].createElement(C["default"],u({svgWidth:e,svgHeight:t,extremeValues:r||new Map,dataClassification:this.props.dataClassification},this.props)),c=this.colorScale(),p=this.props.noDataColor||"#f5f5f5",d=this.props.borderColor||"#cccccc",h=this.state.geometryFeatures||[],y=this.state.geometryFeatures&&this.state.data,b={width:e,height:t,fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'};return f["default"].createElement(m["default"],{isFeching:!y},f["default"].createElement("div",{className:"map-container"},f["default"].createElement("svg",{className:"map-svg",style:b},f["default"].createElement("g",{id:"root-svg-group"},f["default"].createElement(g["default"],u({},this.props,{geometry:h,colorScale:c,noDataColor:p,borderColor:d,svgWidth:e,svgHeight:t,svgResized:this.state.svgResized,componentWidth:this.state.componentWidth,mouseMoveOnDatamap:this.mouseMoveOnDatamap.bind(this),mouseEnterOnDatamap:this.mouseEnterOnDatamap.bind(this),mouseLeaveDatamap:this.mouseLeaveDatamap.bind(this),mouseEnterOnSubunit:this.mouseEnterOnSubunit.bind(this),regionData:this.state.data})),r&&l)),f["default"].createElement(j["default"],{active:o,position:a,name:i,value:s})))}}]),t}(y["default"]);t["default"]=T,d["default"].set("Choropleth",T)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),c=n(l),f=r(9),p=n(f),d=r(2),h=n(d),y=r(32),b=n(y),m=function(e){function t(e){o(this,t);var r=i(this,Object.getPrototypeOf(t).call(this,e));return r.handleMouseEnterOnSubunit=r.handleMouseEnterOnSubunit.bind(r),r.state={geometryFeatures:r.props.geometry,path:r.path(r.props.svgWidth,r.props.svgHeight),svgResized:!1},r}return u(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.svgWidth,r=e.svgHeight,n=e.geometry,a=this.path(t,r),o=(e.svgWidth!==this.props.svgWidth||e.svgHeight!==this.props.svgHeight,n);this.setState({path:a,geometryFeatures:o})}},{key:"path",value:function(e,t){var r=this.props.projection,n=this.props.scaleDenominator,a=p["default"].geo[r]().scale(e/n).translate([e/2,t/2]);return p["default"].geo.path().projection(a)}},{key:"handleMouseEnterOnSubunit",value:function(e,t,r){var n=this.state.geometryFeatures,o=[].concat(a(n.slice(0,r)),a(n.slice(r+1)),[n[r]]);this.setState({geometryFeatures:o}),this.props.mouseEnterOnSubunit(e,t)}},{key:"renderDatamapSubunits",value:function(){var e=this,t=this.props,r=t.colorScale,n=t.noDataColor,a=t.borderColor;return this.state.geometryFeatures.map(function(t,o){var i="geojson"===e.props.format?t.properties[e.props.geometryKeyField]:t.id,u=e.props.regionData.find(function(t){return t[e.props.dataKeyField]===i}),s=u?u[e.props.dataValueField]:null,l=""===s?n:r(s);return c["default"].createElement(b["default"],{key:i,index:o,path:function(){return e.state.path(t)},name:String(i),value:s,svgResized:e.state.svgResized,componentWidth:e.props.componentWidth,fillColor:l,borderColor:a,mouseEnterOnSubunit:e.handleMouseEnterOnSubunit})})}},{key:"render",value:function(){return c["default"].createElement("g",{onMouseMove:this.props.mouseMoveOnDatamap,onMouseEnter:this.props.mouseEnterOnDatamap,onMouseLeave:this.props.mouseLeaveDatamap},this.renderDatamapSubunits())}}]),t}(l.Component);t["default"]=m,m.propTypes={geometry:l.PropTypes.instanceOf(Array).isRequired,svgWidth:l.PropTypes.number.isRequired,svgHeight:l.PropTypes.number.isRequired,mouseMoveOnDatamap:l.PropTypes.func.isRequired,mouseEnterOnDatamap:l.PropTypes.func.isRequired,mouseLeaveDatamap:l.PropTypes.func.isRequired,mouseEnterOnSubunit:l.PropTypes.func.isRequired,regionData:l.PropTypes.instanceOf(Array).isRequired,colorScale:l.PropTypes.func.isRequired,noDataColor:l.PropTypes.string.isRequired,borderColor:l.PropTypes.string.isRequired},h["default"].set("Datamap",m)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(9),f=(n(c),function(e){function t(e){a(this,t);var r=o(this,Object.getPrototypeOf(t).call(this,e));return r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.state={active:!1},r}return i(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){var r=e.svgResized!==this.props.svgResized||t.active!==this.state.active||e.fillColor!==this.props.fillColor||e.borderColor!==this.props.borderColor||e.componentWidth!==this.props.componentWidth;return r}},{key:"handleMouseEnter",value:function(){this.setState({active:!0});var e=this.props,t=e.name,r=e.value,n=e.index;this.props.mouseEnterOnSubunit(t,r,n)}},{key:"handleMouseLeave",value:function(){this.setState({active:!1})}},{key:"render",value:function(){var e={fill:this.state.active?"#FFCCBC":this.props.fillColor,stroke:this.state.active?"#FF5722":this.props.borderColor,strokeWidth:this.state.active?2:.5};return l["default"].createElement("path",{className:"datamap-subunit",style:e,d:this.props.path(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave})}}]),t}(s.Component));t["default"]=f,f.propTypes={path:s.PropTypes.func.isRequired,mouseEnterOnSubunit:s.PropTypes.func.isRequired,name:s.PropTypes.string.isRequired,value:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),svgResized:s.PropTypes.bool.isRequired,fillColor:s.PropTypes.string.isRequired,borderColor:s.PropTypes.string.isRequired,index:s.PropTypes.number.isRequired}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"renderLegend",value:function(){var e=this,t=40,r={textAnchor:"middle",fontSize:9,fill:"#333"},n=this.props.extremeValues,a=this.props.legend.classesCount,o=n.get("customMin")||n.get("min"),i=n.get("customMax")||n.get("max"),u=(i-o)/a,s=this.props.legend.pallete,c=t*a+80,f=s.map(function(n,a){return l["default"].createElement("g",{key:a},l["default"].createElement("text",{key:a+100,x:e.props.svgWidth-c+t*a,y:e.props.svgHeight-60,style:r},Math.round(100*(o+u*a))/100),l["default"].createElement("rect",{key:a+1e3,x:e.props.svgWidth-c+t*a,y:e.props.svgHeight-50,width:t,height:"10",fill:n}))});return f.push(l["default"].createElement("text",{key:999,x:this.props.svgWidth-c+t*a,y:this.props.svgHeight-60,style:r},i)),f}},{key:"render",value:function(){return l["default"].createElement("g",null,this.renderLegend())}}]),t}(s.Component);t["default"]=c,c.propTypes={svgWidth:s.PropTypes.number.isRequired,svgHeight:s.PropTypes.number.isRequired,extremeValues:s.PropTypes.instanceOf(Map).isRequired}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(a),i=function(e){var t={left:e.position.get("x")+20,top:e.position.get("y")-90+20,display:e.active?"block":"none"};return o["default"].createElement("div",{className:"hoverinfo",style:t},o["default"].createElement("p",null,e.name),o["default"].createElement("p",null,e.value));
};i.propTypes={position:a.PropTypes.object.isRequired,active:a.PropTypes.bool.isRequired,name:a.PropTypes.string.isRequired,value:a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.string])},t["default"]=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(9),f=n(c),p=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"linearColorScale",value:function(e){var t=this.props.startColor,r=this.props.endColor;return f["default"].scale.linear().domain([0,200]).range([t,r]).interpolate(f["default"].interpolateLab)(e)}},{key:"renderGradient",value:function(){var e=this;return Array(40).fill().map(function(t,r){return l["default"].createElement("rect",{key:r,x:e.props.svgWidth-280+5*r,y:e.props.svgHeight-50,width:5,height:"10",fill:e.linearColorScale(5*r),stroke:"none"})})}},{key:"render",value:function(){var e={textAnchor:"middle",fontSize:10,fill:"#333"},t=this.props.extremeValues,r=t.get("min"),n=t.get("max");return l["default"].createElement("g",null,l["default"].createElement("text",{x:this.props.svgWidth-280,y:this.props.svgHeight-60,style:e},r),l["default"].createElement("text",{x:this.props.svgWidth-80,y:this.props.svgHeight-60,style:e},n),this.renderGradient())}}]),t}(s.Component);t["default"]=p,p.propTypes={svgWidth:s.PropTypes.number.isRequired,svgHeight:s.PropTypes.number.isRequired,extremeValues:s.PropTypes.instanceOf(Map).isRequired}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=n(a),i=r(35),u=n(i),s=r(33),l=n(s),c=function(e){var t=(e.dataClassification,o["default"].createElement(u["default"],e)),r=o["default"].createElement(l["default"],e),n={linear:t,equidistant:r};return n[e.dataClassification]};c.propTypes={},t["default"]=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r,n,a){var o=this,i=e||a;if(!i.length)return[];var u=(r.fields||[]).map(function(e){var t={key:e.name,color:e.color};return t.values=i.map(function(t){return{y:t[e.field],x:t[o.props.settings.x||"x"]}}),t});return u}function o(e,t,r,n,a){var o=a||e;if(Array.isArray(o[0])||(o=[o]),!o.length)return[];var i=(r.series||[]).map(function(e,t){var r={key:e.name,color:e.color};return r.values=o[t],r});return i}function i(e,t,r,n,a){var o=a||e;return o.map(function(e){return e[r.field]=Date.parse(e[r.field]),e})}var u=r(8),s=n(u);s["default"].set("fieldsToSeries",a),s["default"].set("parseDateField",i),s["default"].set("NVD3.returnChartSeries",o)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r,n,a){var o=a||e;if(!o.length)return[];Array.isArray(o[1])||(o=[o]);var i=o.map(function(e){var t=r.xField||"x";r.field;return e.map(function(e){return{y:e[r.field],x:e[t]}})});return i}function o(e,t,r,n,a){var o=a||e;return o.map(function(e){return e[r.field]=Date.parse(e[r.field]),e})}function i(e,t,r,n,a){return n?n.value:e}var u=r(8),s=n(u);s["default"].set("common.parseDateField",o),s["default"].set("common.fieldsToXYSeries",a),s["default"].set("common.getEventReturn",i)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(37);Object.defineProperty(t,"NVD3DataHandlers",{enumerable:!0,get:function(){return n(a)["default"]}});var o=r(38);Object.defineProperty(t,"common",{enumerable:!0,get:function(){return n(o)["default"]}})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),c=r(12),f=n(c),p=r(2),d=n(p),h=function(e){function t(){return a(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"container"},l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-md-12"},this.renderRegion(this.props.regions.top))),l["default"].createElement("div",{className:"row"},l["default"].createElement("div",{className:"col-md-4"},this.renderRegion(this.props.regions.left)),l["default"].createElement("div",{className:"col-md-4"},this.renderRegion(this.props.regions.middle)),l["default"].createElement("div",{className:"col-md-4"},this.renderRegion(this.props.regions.right))))}}]),t}(f["default"]);t["default"]=h,d["default"].set("Geary",h)},function(e,t){},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("csv-es6-data-backend")},function(e,t){e.exports=require("dkan-es6-data-backend")},function(e,t){e.exports=require("fixed-data-table")},function(e,t){e.exports=require("flux")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("react-select")},function(e,t){e.exports=require("topojson")}])});